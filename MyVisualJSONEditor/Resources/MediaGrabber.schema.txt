{
    "$schema":"http://json-schema.org/draft-04/schema#",
    "id":"http://vit.com.ua/edgeserver/mediagrabber#",

    "type":"object",
    'format':'tab',

	title:'Media Grabber',
	description:'Media grabber description',

    "properties":{

        "TxPipes":{
            "title":"TxPipes",
            "type":"array",

            "items": {
                    "type":"string"
            },

			"default" : "",
        },

        "Driver":{
            "title":"Driver",
            "type":"object",

            "properties":{
                "Vendor":{
                    "title":"Vendor",
                    "type":"string"
                },
                "Model":{
                    "title":"Model",
                    "type":"string"
                },
                "Firmware":{
                    "title":"Firmware",
                    "type":"string"
                },
                "Id":{
                    "title":"Id",
                    "type":"string"
                },
                "File":{
                    "title":"File",
                    "type":"string"
                },
                "ParamSet":{
                    "title":"ParamSet",
                    "type":"object",
                    "properties":{

                    }
                }
            },
            "required":[ "Vendor", "Model", "Firmware", "Id", "File", "ParamSet" ],
			"additionalProperties": false,
        },

        "FrameExport" : { 
        	title:'FrameExport',
        	allOf:[{'$ref' : 'definitions#/definitions/EventDir' }]
        },

        "SceneExport":{
            "title":"SceneExport",
            "type":"object",

            "properties":{
                "EntrySet":{
                    "id":"EntrySet",
                    "type":"array",
                    "items" : { '$ref' : 'definitions#/definitions/EventDir' },
                }
            },
            "required":[ "EntrySet" ],
			"additionalProperties": false,
        },

        "FileApi":{
            "title":"FileApi",
            "type":"object",

            "properties":{

                "HaltEvent":{
                    "title":"HaltEvent",
                    "type":"object",

					'allOf' : [
						{'$ref' : 'definitions#/definitions/EventDir'},
						{
							'properties' : {

								"SignalAbsentTout":{
									"id":"SignalAbsentTout",
									"type":"integer"
								},
								"DeviceAbsentTout":{
									"id":"DeviceAbsentTout",
									"type":"integer"
								}
							},

							"required":[ "SignalAbsentTout", "DeviceAbsentTout" ],
						}
					],
                }

            },
            "required":[ "HaltEvent" ],
			"additionalProperties": false,
        }
    },
    "required":[
        "TxPipes",
        "Driver",
        "FrameExport",
        "SceneExport",
        "FileApi"
    ],
	"additionalProperties": false,
}